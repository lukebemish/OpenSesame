plugins {
    id 'opensesame.conventions'
}

java.withSourcesJar()
java.withJavadocJar()

dependencies {
    implementation project(':opensesame-core')
}

tasks.named('compileJava', JavaCompile).configure {
    it.options.compilerArgs.add '-Xlint:-opens'
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            pom {
                openSesameConvention.pomShared(it, 'Compile')
                description = 'Compile-time abstractions for OpenSesame, a tool for typesafe access to normally inacessible members'
            }
        }
    }
}
